┌─────────────────────────────────────────────────────────────┐
│                     Client Layer (Next.js)                  │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐   │
│  │  Reader  │  │  Chat    │  │  Video   │  │  Voice   │   │
│  │ (PDF.js) │  │ (Socket) │  │ (WebRTC) │  │ (Media)  │   │
│  └──────────┘  └──────────┘  └──────────┘  └──────────┘   │
└─────────────────────────────────────────────────────────────┘
                              │
┌─────────────────────────────────────────────────────────────┐
│                    API Gateway (Express)                    │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐   │
│  │  Auth    │  │  Rooms   │  │  Books   │  │  Media   │   │
│  │ (JWT)    │  │ (CRUD)   │  │ (S3)     │  │ (Upload) │   │
│  └──────────┘  └──────────┘  └──────────┘  └──────────┘   │
└─────────────────────────────────────────────────────────────┘
                              │
┌─────────────────────────────────────────────────────────────┐
│                  Real-Time Layer (Socket.io)                │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐   │
│  │  Redis   │  │  Pub/Sub │  │  Signaling│  │  Presence│   │
│  │ Adapter  │  │  Rooms   │  │ (WebRTC)  │  │  Manager │   │
│  └──────────┘  └──────────┘  └──────────┘  └──────────┘   │
└─────────────────────────────────────────────────────────────┘
                              │
┌─────────────────────────────────────────────────────────────┐
│                    Data Layer (PostgreSQL)                  │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐   │
│  │  Users   │  │  Books   │  │  Rooms   │  │Messages  │   │
│  │  Library │  │  Metadata│  │Participants│  │  Chat    │   │
│  └──────────┘  └──────────┘  └──────────┘  └──────────┘   │
└─────────────────────────────────────────────────────────────┘
